---
title: parallel asynchronous @SimonHoiberg
date: 2022-02-28 17:40:14
permalink: /pages/08a57e/
categories:
  - English
tags:
  - Twitter
---

## ä»Šæ—¥å¥å­

![ä»Šæ—¥Twitter](./images/parallel-asynchronous.jpeg)

## åŸæ–‡

> JavaScript Tip ğŸ’¡<br>
> Speed asynchronous tasks up by running them in parallel.<br>
> If the tasks don't rely on the result from the previous one, simply wrap them in Promise.all and run them in parallel.<br>
> It's much faster ğŸš€
> [æŸ¥çœ‹åŸæ–‡](https://twitter.com/SimonHoiberg/status/1498213297841135617)

## ç¿»è¯‘

> JavaScript å°æŠ€å·§ ğŸ’¡<br>
> é€šè¿‡å¹¶è¡Œæ‰§è¡Œï¼Œå¯ä»¥åŠ é€Ÿå¼‚æ­¥ä»»åŠ¡çš„é€Ÿåº¦ã€‚<br>
> å¦‚æœä»»åŠ¡ç›¸äº’é—´æ²¡æœ‰ä¾èµ–ï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„ `Promise.all` å¹¶è¡Œè¿è¡Œå®ƒä»¬ã€‚<br>
> çœŸçš„å¿«äº†å¾ˆå¤š ğŸš€<br>

```JavaScript
// æœªä¼˜åŒ–
async function updateUserInfo() {
  await updateUser({ id: 'abc124', lastLogin: new Date() });
  await sendUpdateNotification({ userID: 'abc123' });
  await cleanupOldLogs({ userID: 'abc123', cleanAll: true })
}

// ä¼˜åŒ–å
async function updateUserInfo() {
  await Promise.all([
    await updateUser({ id: 'abc124', lastLogin: new Date() }),
    await sendUpdateNotification({ userID: 'abc123' }),
    await cleanupOldLogs({ userID: 'abc123', cleanAll: true }),
  ])
}
```

## å•è¯

- asynchronous: adj.å¼‚æ­¥çš„ï¼›ä¸åŒæ—¶çš„ï¼›ä¸åŒæœŸçš„ï¼›
- parallelï¼š
  - adj.å¹³è¡Œçš„ï¼›ç›¸ä¼¼çš„ï¼ŒåŒæ—¶å‘ç”Ÿçš„ï¼›å¹¶è¡Œçš„ï¼›å¹¶è”çš„ï¼›
  - n.ç›¸ä¼¼çš„æ‰‹æ³•ï¼Œå…±åŒç‚¹ï¼›ç›¸ä¼¼çš„äººï¼›çº¬çº¿ï¼Œçº¬åœˆï¼›
  - v.ä¸...ç›¸ä¼¼ï¼›ä¸...åŒæ—¶å‘ç”Ÿï¼›ä¸...å¹¶è¡Œï¼›
- rely: v.ç›¸ä¿¡ï¼Œä¿¡èµ–ï¼›ä¾é ï¼Œä¾èµ–ï¼›
- previous:
  - adj.ä»¥å‰çš„ï¼Œå…ˆå‰çš„ï¼›ç¨å‰çš„ï¼›è¿‡æ—©çš„ï¼Œè¿‡æ€¥çš„ï¼›
  - n.å‰ç§‘ï¼ŒçŠ¯ç½ªè®°å½•ï¼›

## æŠ€æœ¯ - Promise.all

[Promise.all](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/all) æ˜¯ä¸€ä¸ªå¼‚æ­¥å¤„ç†æ–¹æ³•ï¼Œè¡¨ç¤ºå†…éƒ¨æ‰€æœ‰çš„å¼‚æ­¥æ–¹æ³•å¹¶è¡Œæ‰§è¡Œï¼Œå…¨éƒ¨æ‰§è¡Œå®Œæ¯•åè¿”å›ç»“æœã€‚

è¿™ä¸ªæ–¹æ³•åœ¨æˆ‘å·¥ä½œçš„ `BFF` é¡¹ç›®ä¸­æœ‰å®é™…ç”¨åˆ°ï¼Œåœºæ™¯æ˜¯è·å–ä¸€ä¸ªæˆ¿å±‹ä¿¡æ¯è¯¦ç»†é¡µæ•°æ®ï¼Œå¾®æœåŠ¡æœ‰æŠŠæˆ¿å±‹ç…§ç‰‡ã€æˆ¿å±‹åŸºæœ¬ä¿¡æ¯ä»¥åŠåœ°å€åˆ†æˆä¸‰ä¸ªæ¥å£ã€‚

æ‰€ä»¥å°±ç”¨åˆ° `Promise.all` ä¸€æ¬¡å‘é€ä¸‰ä¸ªè¯·æ±‚ï¼Œå…¨éƒ¨è¯·æ±‚è¿”å›åæ‰ä¼šå¤„ç†æ•°æ®ã€‚

```JavaScript
async () => {
  const results = await Promise.all([axios1, axios2, axios3])
  console.log('results: ', results);
}
```
