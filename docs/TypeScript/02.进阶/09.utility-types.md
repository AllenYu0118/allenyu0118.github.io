---
title: å·¥å…·ç±»å‹
date: 2022-04-01 21:53:40
permalink: /pages/23d841/
categories:
  - TypeScript
tags:
  -
---

## å·¥å…·ç±»å‹ (Utility Types)

`TypeScript` æä¾›äº†ä¸€äº›å·¥å…·ç±»å‹ï¼Œæ–¹ä¾¿è¿›è¡Œç±»å‹ä¸Šçš„è½¬æ¢ã€‚è¿™äº›å·¥å…·ç±»å‹æ˜¯å…¨å±€å¯è§çš„ã€‚

## Partial

æ„é€ ä¸€ä¸ªæ–°ç±»å‹ï¼Œä½¿ç±»å‹ `T`ä¸Šçš„æ‰€æœ‰å±æ€§éƒ½å˜æˆå¯é€‰çš„ã€‚

### ä½¿ç”¨

```typescript
interface Person {
  name: string
  age: number
}

type PersonOptional = Partial<Person>

// ç›¸å½“äº
type PersonOptional = {
  name?: string
  age?: number
}
```

### å®ç°

```typescript
type Partial<T> = {
  [K in keyof T]?: T[K]
}
```

---

## Required

è®¾ç½®ç±»å‹çš„æ‰€æœ‰å±æ€§ä¸ºå¿…é¡»é¡¹ã€‚å’Œ `Partial` æ˜¯ç›¸åçš„ã€‚

### ä½¿ç”¨

```typescript
interface Person {
  name?: string
  age?: number
}

const Jack: Person = { name: 'Jack' }
const Lucy: Required<Person> = { name: 'Lucy' }

// Property 'age' is missing in type '{ name: string; }' but required in type 'Required<Person>'.(2741)
```

### å®ç°

```typescript
type Required<T> = {
  [K in keyof T]-?: T[K]
}
```

æ³¨æ„ `-?` è¡¨ç¤º**éå¯é€‰**ï¼Œè¿™é‡Œå¦‚æœä¸åŠ  `-?` åœ¨é‡åˆ° `T` çš„å±æ€§ä¸ºå¯é€‰æ—¶ï¼Œå°±æ— æ³•å˜æˆå¿…é€‰å±æ€§ï¼Œè¿™ä¸ªå°±æ˜¯æŒ‡åŒæ€æ‹·è´ã€‚

ä¸¾ä¸ªä¾‹å­ ğŸŒ°

```typescript
interface T {
  name: string
  age?: number
}

// å®ç°ä¸€ä¸ªä¸ä½¿ç”¨ `-?` çš„ Required
type Required<T> = {
  [K in keyof T]: T[K]
}

// Foo = { name: string, age?: number | undefined }
type Foo = Required<T>

// æ·»åŠ  `-?`
type Required<T> = {
  [K in keyof T]-?: T[K]
}

// Foo = { name: string, age: number }
type Foo = Required<T>
```

## å‚è€ƒ

- [TypeScript å…¥é—¨æ•™ç¨‹ - å£°æ˜åˆå¹¶](https://ts.xcatliu.com/advanced/declaration-merging.html)
